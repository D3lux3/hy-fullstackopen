{"version":3,"sources":["services/Module.js","components/Filterform.js","components/PersonForm.js","components/Persons.js","components/Notification.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","id","delete","modifiedObject","put","Filterform","props","onChange","handle","PersonForm","handleChange","handleInput","onClick","buttonHandler","type","Persons","persons","filter","showAll","deleteClickHandler","person","name","toLowerCase","includes","map","key","number","Notification","message","messageBool","className","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","setShowAll","setFilter","errorMessage","setErrorMessage","setMessageBool","useEffect","module","initialPersons","modifyPersonsNumber","find","p","modifiedPerson","returnedPerson","setTimeout","catch","error","event","target","value","length","preventDefault","personObject","alert","window","confirm","concat","console","log","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.540e4037.chunk.js","sourcesContent":["import axios from 'axios';\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl);\r\n    return request.then(response => response.data);\r\n}\r\n\r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl, newObject);\r\n    return request.then(response => response.data);\r\n}\r\n\r\nconst deletePerson = id => {\r\n    const request = axios.delete(baseUrl + `/${id}`)\r\n    return request.then(response => response.data);\r\n}\r\n\r\nconst modifyPersonNumber = (id, modifiedObject) => {\r\n    const request = axios.put(baseUrl + `/${id}`, modifiedObject);\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, deletePerson, modifyPersonNumber }","import React from 'react';\r\n\r\nconst Filterform = (props) => {\r\n    return (\r\n        <div>\r\n            filter shown with <input onChange={props.handle} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filterform;","import React from 'react';\r\n\r\nconst PersonForm = (props) => {\r\n\r\n    return (\r\n        <form>\r\n            <div>\r\n                name: <input onChange={props.handleChange} />\r\n            </div>\r\n            <div>\r\n                number: <input onChange={props.handleInput} /> </div>\r\n            <div>\r\n                <button onClick={props.buttonHandler} type=\"submit\">add</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm;","import React from 'react';\r\n\r\nconst Persons = ({ persons, filter, showAll, deleteClickHandler }) => {\r\n    const personsToShow = showAll\r\n        ? persons\r\n        : persons.filter(person => person.name.toLowerCase().includes(filter.toLowerCase()))\r\n\r\n    return (\r\n        personsToShow.map(person => <p key={persons.name}>{person.name} {person.number} <button onClick={() => deleteClickHandler(person.id, person.name)}>delete</button></p>)\r\n    )\r\n\r\n\r\n\r\n}\r\n\r\n\r\nexport default Persons;","import React from 'react';\r\n\r\nconst Notification = ({ message, messageBool }) => {\r\n    if (message === null) {\r\n        return null;\r\n    }\r\n    if (!messageBool) {\r\n        return (\r\n            <div className=\"error\">\r\n                {message}\r\n            </div>\r\n        )\r\n    } else {\r\n        return (\r\n            <div className=\"success\">\r\n                {message}\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default Notification;","import React, { useState, useEffect } from 'react';\r\nimport module from './services/Module'\r\nimport Filterform from './components/Filterform'\r\nimport PersonForm from './components/PersonForm'\r\nimport Persons from './components/Persons'\r\nimport Notification from './components/Notification'\r\nimport './index.css'\r\n\r\nconst App = () => {\r\n\r\n    const [persons, setPersons] = useState([]);\r\n    const [newName, setNewName] = useState('');\r\n    const [newNumber, setNewNumber] = useState('');\r\n    const [showAll, setShowAll] = useState(true);\r\n    const [filter, setFilter] = useState('');\r\n    const [errorMessage, setErrorMessage] = useState(null)\r\n    const [messageBool, setMessageBool] = useState(true);\r\n\r\n    useEffect(() => {\r\n        module\r\n            .getAll()\r\n            .then(initialPersons => {\r\n                setPersons(initialPersons)\r\n            })\r\n    }, [])\r\n\r\n\r\n    const handleInputNumber = (event) => {\r\n        setNewNumber(event.target.value)\r\n    }\r\n\r\n    const handleFilterInput = (event) => {\r\n        setFilter(event.target.value)\r\n        if (event.target.value.length > 0) {\r\n            setShowAll(false);\r\n        } else {\r\n            setShowAll(true);\r\n        }\r\n    }\r\n\r\n    const handleInputChange = (event) => {\r\n        setNewName(event.target.value);\r\n    }\r\n\r\n    const buttonClickHandler = (event) => {\r\n        event.preventDefault();\r\n        const personObject = {\r\n            name: newName,\r\n            number: newNumber\r\n        }\r\n\r\n        if (persons.filter(person => person.name === personObject.name && person.number === personObject.number).length >= 1) {\r\n            alert(`${newName} is already added to phonebook`);\r\n        } else if (persons.filter(person => person.name === personObject.name).length >= 1) {\r\n            if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\r\n                modifyPersonsNumber(newName, newNumber);\r\n            }\r\n        } else {\r\n            module\r\n                .create(personObject)\r\n                .then(returnedPerson => {\r\n                    setPersons(persons.concat(returnedPerson));\r\n                    setErrorMessage(`${newName} has been added to server`)\r\n                    setMessageBool(true)\r\n                    setTimeout(() => {\r\n                        setErrorMessage(null)\r\n                        setMessageBool(true)\r\n                    }, 5000)\r\n                }).catch(error => {\r\n                    console.log(error, \"asdasdsd\")\r\n                })\r\n        }\r\n    }\r\n\r\n    const modifyPersonsNumber = (name, newNumber) => {\r\n        const person = persons.find(p => p.name === name)\r\n        const modifiedPerson = { ...person, number: newNumber }\r\n        module\r\n            .modifyPersonNumber(person.id, modifiedPerson)\r\n            .then(returnedPerson => {\r\n                setPersons(persons.map(person => person.name !== name ? person : modifiedPerson))\r\n                setErrorMessage(`${newName}'s number has been modified`)\r\n                setMessageBool(true)\r\n                setTimeout(() => {\r\n                    setErrorMessage(null)\r\n                    setMessageBool(true)\r\n                }, 5000)\r\n            }).catch(error => {\r\n                setErrorMessage(`Information of ${name} has already been removed from server`)\r\n                setMessageBool(false)\r\n                setTimeout(() => {\r\n                    setErrorMessage(null)\r\n                    setMessageBool(true)\r\n                }, 5000)\r\n                setPersons(persons.filter(person => person.name !== name));\r\n            })\r\n    }\r\n\r\n    const deleteClickHandler = (id, name) => {\r\n        if (window.confirm(`Delete ${name}`)) {\r\n            module\r\n                .deletePerson(id)\r\n                .then(returnedPerson => {\r\n                    setPersons(persons.filter(person => person.id !== id));\r\n                    setErrorMessage(`Information of ${name} has been removed from server`)\r\n                    setMessageBool(true)\r\n                    setTimeout(() => {\r\n                        setErrorMessage(null)\r\n                        setMessageBool(true)\r\n                    }, 5000)\r\n                }).catch(error => {\r\n                    setErrorMessage(`Information of ${name} has already been removed from server`)\r\n                    setMessageBool(false)\r\n                    setTimeout(() => {\r\n                        setErrorMessage(null)\r\n                        setMessageBool(true)\r\n                    }, 5000)\r\n                    setPersons(persons.filter(person => person.id !== id));\r\n                })\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n        <div>\r\n            <h2>Phonebook</h2>\r\n            <Notification message={errorMessage} messageBool={messageBool} />\r\n            <Filterform handle={handleFilterInput} />\r\n            <h2>add a new</h2>\r\n            <PersonForm handleChange={handleInputChange}\r\n                handleInput={handleInputNumber}\r\n                buttonHandler={buttonClickHandler} />\r\n            <h2>Numbers</h2>\r\n            <Persons showAll={showAll} filter={filter} persons={persons} deleteClickHandler={deleteClickHandler} />\r\n        </div>\r\n    )\r\n}\r\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n\n"],"sourceRoot":""}